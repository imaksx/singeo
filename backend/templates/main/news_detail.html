{% extends 'main/base.html' %}
{% load static %}
{% block title %}{{ article.name }} - Singeo{% endblock %}

{% block content %}
<a href="#top" class="button-up">
    <img src="{% static 'main/src/icon/arrow_up.svg' %}" alt="Наверх" class="button-up__img">
</a>

<section class="banner news__banner">
    <div class="news__carousel carousel">
      <div class="news__carousel__cards carousel__cards">
        {% if article.video %}
        <div class="carousel-item news__carousel-item">
            <div class="news__carousel-item__wrapper">
                <div class="news__banner__background">
                    <video controls class="news-content__article-video" autoplay muted loop>
                        <source src="{{ article.video.url }}" type="video/mp4">
                        Ваш браузер не поддерживает видео.
                    </video>
                </div>
                <div class="container">
                    <div class="banner__wrapper">
                        <div class="banner__timestamp">{{ article.pub_date }}</div>
                        <div class="banner__title">
                            {{ article.name }}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% endif %}
        
        {% for image_one in article.images.all %}
            <div class="carousel-item news__carousel-item">
            <div class="news__carousel-item__wrapper">
                <div class="news__banner__background">
                <img src="{{ image_one.image.url }}" alt="" class="news__banner__background__img">
                </div>
                <div class="container">
                <div class="banner__wrapper">
                    <div class="banner__timestamp">{{ article.pub_date }}</div>
                    <div class="banner__title">
                    {{ article.name }}
                    </div>
                </div>
                </div>
            </div>
            </div>
        {% endfor %}

      </div>
      <div class="news__carousel__pagination carousel__pagination carousel__pagination_point">

      </div>
    </div>

  </section>

<section class="news-content">
    <div class="container">
        <div class="news-content__wrapper">
            <div class="news-content__text">
                <p class="news-content__paragraph">{{ article.text }}</p>
            </div>
            <div class="news-content__buttons">
                <button class="button button__accent">
                    <span>
                        <i class="fa-solid fa-share-nodes"></i>
                        Поделиться
                    </span>
                </button>
            </div>
        </div>
    </div>
</section>
{% endblock %}